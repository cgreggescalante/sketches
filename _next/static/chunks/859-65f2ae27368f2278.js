(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{366:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t}=e;return t},t.suspense=function(){let e=Error(n.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=n.NEXT_DYNAMIC_NO_SSR_CODE,e},(0,r(3903).Z)(r(2784));var n=r(7821)},5263:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=u.default,i={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};e instanceof Promise?i.loader=()=>e:"function"==typeof e?i.loader=e:"object"==typeof e&&(i=n({},i,e)),i=n({},i,t);let a=i.loader,l=()=>a().then(o);if(i.loadableGenerated&&delete(i=n({},i,i.loadableGenerated,{loader:l})).loadableGenerated,"boolean"==typeof i.ssr){if(!i.ssr)return delete i.ssr,s(l,i);delete i.ssr}return r(i)},t.noSSR=s;var n=r(9419).Z,i=r(3903).Z,a=(0,r(199).Z)(r(2784)),u=i(r(5933)),l=i(r(366));function o(e){return{default:e.default||e}}function s(e,t){delete t.webpack,delete t.modules;let r=a.lazy(e),n=t.loading,i=a.default.createElement(n,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1});return e=>a.default.createElement(a.Suspense,{fallback:i},a.default.createElement(l.default,null,a.default.createElement(r,Object.assign({},e))))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var n=(0,r(3903).Z)(r(2784));let i=n.default.createContext(null);t.LoadableContext=i},5933:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(9419).Z,i=(0,r(3903).Z)(r(2784)),a=r(4798);let u=[],l=[],o=!1;function s(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=n({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t);r.lazy=i.default.lazy(r.loader);let n=null;function u(){if(!n){let t=new d(e,r);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if(!o){let s=r.webpack?r.webpack():r.modules;s&&l.push(e=>{for(let t of s)if(-1!==e.indexOf(t))return u()})}function c(e){!function(){u();let e=i.default.useContext(a.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}();let t=i.default.createElement(r.loading,{isLoading:!0,pastDelay:!0,error:null});return i.default.createElement(i.default.Suspense,{fallback:t},i.default.createElement(r.lazy,e))}return c.preload=()=>u(),c.displayName="LoadableComponent",c}(s,e)}function f(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return f(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{f(u).then(e,t)}),c.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let r=()=>(o=!0,t());f(l,e).then(r,r)})},window.__NEXT_PRELOADREADY=c.preloadReady,t.default=c},7553:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(2322),i=r(5237),a=r.n(i),u=r(9097),l=r.n(u),o=r(6096),s=r(2532),d=r(2412);let c=()=>(0,n.jsx)(o.Z,{children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(d.Z,{as:l(),href:"/Terrain2D/standard",children:"Standard"}),(0,n.jsx)(d.Z,{as:l(),href:"/Terrain2D/island",children:"Island"}),(0,n.jsx)(d.Z,{as:l(),href:"/Terrain2D/archipelago",children:"Archipelago"})]})}),f=e=>{let{children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{}),(0,n.jsx)("main",{children:t})]})},h=a()(r.e(80).then(r.t.bind(r,2291,23)),{loadableGenerated:{webpack:()=>[2291]},ssr:!1}),p=e=>()=>(0,n.jsx)(f,{children:(0,n.jsx)(h,{setup:e.setup,draw:e.draw})});var _=p},5237:function(e,t,r){e.exports=r(5263)},9270:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.Standard=t.Island=t.Archipelago=void 0;var i=n(r(8224));t.Archipelago=i.default;var a=n(r(3770));t.Island=a.default;var u=n(r(37));t.Standard=u.default},9390:function(e,t){"use strict";t.__esModule=!0,t.CreateFilter=t.CeilingFilter=t.FloorFilter=t.SteppedFilter=t.ExponentialFilter=t.Normalize=t.CircleFilter=t.MultiplyLayers=void 0,t.MultiplyLayers=function(e,r){return void 0===r&&(r=1),(0,t.CreateFilter)(function(t,n,i){return t[i][n]*e[i][n]*r})},t.CircleFilter=function(e,r){return void 0===r&&(r=1),(0,t.CreateFilter)(function(t,n,i){var a=-1/(1+Math.exp(-(10*r/e)*(Math.sqrt(Math.pow(t.length/2-i,2)+Math.pow(t[0].length/2-n,2))-e)))+1;return t[i][n]*a})},t.Normalize=function(e,t){return function(r){var n=-1/0,i=1/0;return r.flat().forEach(function(e){n=e>n?e:n,i=e<i?e:i}),r.map(function(r){return r.map(function(r){return(r-i)/(n-i)*(t-e)+e})})}},t.ExponentialFilter=function(e){return(0,t.CreateFilter)(function(t,r,n){return Math.pow(t[n][r],e)})},t.SteppedFilter=function(e){return(0,t.CreateFilter)(function(t,r,n){return t[n][r]-t[n][r]%e})},t.FloorFilter=function(e){return(0,t.CreateFilter)(function(t,r,n){return Math.max(t[n][r],e)})},t.CeilingFilter=function(e){return(0,t.CreateFilter)(function(t,r,n){return Math.min(t[n][r],e)})},t.CreateFilter=function(e){return function(t){return t.map(function(r,n){return r.map(function(r,i){return e(t,i,n)})})}}},2725:function(e,t,r){"use strict";t.__esModule=!0,t.GradientLayer=t.SimpleLayer=t.LayeredShader=void 0;var n=r(9285);t.LayeredShader=function(e){return(0,n.Shader)(function(t){for(var r=0;r<e.length;r++)if(e[r][0]>=t)return e[r][1](t);return color(0)})};var i=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),function(n){return e((n-t)/(r-t))}};t.SimpleLayer=function(e){return i(function(t){return e})},t.GradientLayer=function(e,t,r,n,a){return i(function(t){var r=e.red(n)+t*(e.red(a)-e.red(n)),i=e.green(n)+t*(e.green(a)-e.green(n)),u=e.blue(n)+t*(e.blue(a)-e.blue(n));return e.color(r,i,u)},t,r)}},7694:function(e,t,r){"use strict";t.__esModule=!0,t.TerrainShader=void 0;var n=r(2725);t.TerrainShader=function(e){return(0,n.LayeredShader)([[.21,(0,n.GradientLayer)(e,0,.1,e.color(0,50,90),e.color(0,104,196))],[.22,(0,n.SimpleLayer)(e.color(248,208,146))],[.55,(0,n.GradientLayer)(e,.23,.55,e.color(104,159,56),e.color(34,98,37))],[.7,(0,n.SimpleLayer)(e.color(74,48,46))],[.8,(0,n.SimpleLayer)(e.color(108,103,96))],[1,(0,n.SimpleLayer)(e.color(225,230,250))]])}},9285:function(e,t){"use strict";t.__esModule=!0,t.GradientShader=t.Shader=void 0,t.GradientShader=function(e,t,n,i,a){return void 0===i&&(i=0),void 0===a&&(a=1),r(function(r){var u=(r-i)/a,l=e.red(t)+u*(e.red(n)-e.red(t)),o=e.green(t)+u*(e.green(n)-e.green(t)),s=e.blue(t)+u*(e.blue(n)-e.blue(t));return e.color(l,o,s)})};var r=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){r.push([]);for(var i=0;i<t[0].length;i++)r[n].push(e(t[n][i]))}return r}};t.Shader=r},8224:function(e,t,r){"use strict";t.__esModule=!0;var n=r(2746),i=r(9390),a=r(7694),u=r(5662),l=(0,u.DrawTerrain)(function(e){var t=(0,n.MetaballsSource)(e,10,e.width,e.height,200,.2)(e.width,e.height),r=(0,u.NoiseFilter)((0,i.MultiplyLayers)(t),(0,i.Normalize)(0,1),(0,i.ExponentialFilter)(2),(0,i.Normalize)(0,1))((0,n.PerlinNoiseSource)(e,40,40,5))(e.width,e.height);return(0,a.TerrainShader)(e)(r)}),o={setup:u.setup,draw:l};t.default=o},3770:function(e,t,r){"use strict";t.__esModule=!0;var n=r(5662),i=r(2746),a=r(9390),u=r(7694),l=(0,n.DrawTerrain)(function(e){var t=(0,i.PerlinNoiseSource)(e,160,160)(e.width,e.height),r=(0,n.NoiseFilter)((0,a.CircleFilter)(.35*e.width,.3),(0,a.MultiplyLayers)(t),(0,a.Normalize)(0,1))((0,i.PerlinNoiseSource)(e,40,40,5))(e.width,e.height);return(0,u.TerrainShader)(e)(r)}),o={setup:n.setup,draw:l};t.default=o},37:function(e,t,r){"use strict";t.__esModule=!0;var n=r(5662),i=r(2746),a=r(9390),u=r(7694),l=(0,n.DrawTerrain)(function(e){var t=(0,i.PerlinNoiseSource)(e,160,160)(e.width,e.height),r=(0,n.NoiseFilter)((0,a.MultiplyLayers)(t),(0,a.Normalize)(0,1))((0,i.PerlinNoiseSource)(e,40,40,5))(e.width,e.height);return(0,u.TerrainShader)(e)(r)}),o={setup:n.setup,draw:l};t.default=o},5662:function(e,t){"use strict";t.__esModule=!0,t.NoiseFilter=t.DrawTerrain=t.setup=void 0,t.setup=function(e,t){e.createCanvas(1e3,1e3).parent(t)},t.DrawTerrain=function(e){return function(t){var r=e(t);t.loadPixels();for(var n=0;n<t.height;n++)for(var i=0;i<t.width;i++){var a=(n*t.width+i)*4;t.pixels[a]=t.red(r[n][i]),t.pixels[a+1]=t.green(r[n][i]),t.pixels[a+2]=t.blue(r[n][i]),t.pixels[a+3]=255}t.updatePixels(),t.noLoop()}},t.NoiseFilter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(r,n){return e.reduce(function(e,t){return t(e)},t(r,n))}}}},2746:function(e,t){"use strict";t.__esModule=!0,t.Source=t.MetaballsSource=t.PerlinNoiseSource=void 0,t.PerlinNoiseSource=function(e,t,n,i){void 0===i&&(i=1);for(var a=[],u=0;u<i;u++)a.push([1e5*Math.random(),1e5*Math.random()]);return r(function(r,i){return a.reduce(function(a,u,l){return a+e.noise(u[0]+r/(t/(1+l)),u[1]+i/(n/(1+l)))/(l+1)},0)})},t.MetaballsSource=function(e,t,n,i,a,u){for(var l=[],o=0;o<t;o++)l.push([e.random(0,n),e.random(0,i)]);return r(function(e,t){return l.reduce(function(r,n){var i=-1/(1+Math.exp(-(10*u/a)*(Math.sqrt(Math.pow(e-n[0],2)+Math.pow(t-n[1],2))-a)))+1;return i>r?i:r},0)})};var r=function(e){return function(t,r){for(var n=[],i=0;i<r;i++){n.push([]);for(var a=0;a<t;a++)n[i].push(e(a,i))}return n}};t.Source=r}}]);